# Минимум для создания Discord бота
## Что используется
 - Python 3.6+ версии, который можно скачать на сайте https://www.python.org/downloads/

![image](https://user-images.githubusercontent.com/71354808/119383128-a6ef0f80-bccb-11eb-8a20-7fcd0e5fe008.png)

 - PyCharm Community Edition

![image](https://user-images.githubusercontent.com/71354808/119383271-cb4aec00-bccb-11eb-9dee-08825f0eadd1.png)

Обратите внимание, что скачивать нужно Community версию, не Professional
## Создаём проект и загружаем библиотеку
Новый проект можно расположить где угодно, предпочтительнее выбрать создание виртуальной среды

![image](https://user-images.githubusercontent.com/71354808/119383655-444a4380-bccc-11eb-8c62-cccf4eabefdc.png)

В проекте должна находиться только папка venv. Если после создания там лежит main.pyб его можно спокойно удалить.

Заходим File -> Settings -> Project: {ваше название} -> Python Interpreter

![image](https://user-images.githubusercontent.com/71354808/119383996-ba4eaa80-bccc-11eb-8e70-681b45d2da0f.png)

Выбираем **+** над списком с установленными библиотеками

![image](https://user-images.githubusercontent.com/71354808/119384135-eb2edf80-bccc-11eb-8e76-e1c8ebea6633.png)

В поиске пишем discord.py, внизу жмём кнопку Install Package. Если при импорте библиотека не вываливается в подсказках, перезапуск проекта решит проблему.
## Приложение в Discord и получение токена
Переходим на сайт https://discord.com/developers. Залогиньтесь под своей учётной записью.

Во вкладке **Applications** справа нажимаем кнопку **New Application**, вводим название, жмём **Create**.

Теперь на странице с вашим приложением переходим во вкладку **Bot**, жмём **Add Bot** справа, подтверждаем.

Токен (или так называемый API ключ/API key) можно найти здесь же:

![image](https://user-images.githubusercontent.com/71354808/119385218-82e0fd80-bcce-11eb-8c2a-5484a84631cc.png)

Этот токен надо вставить в файл settings.py в переменную DISCORD_API_KEY.

## Добавление бота на свой сервер
На странице с вашим приложением переходим во вкладку **OAuth2**. В таблице Scopes выбираем bot:

![image](https://user-images.githubusercontent.com/71354808/119385747-42ce4a80-bccf-11eb-93b9-f187b4210f52.png)

В таблице Bot Permissions для простоты можно выбрать Administrator или только те, которые нужны вам. Обратите внимание, что без разрешения бот будет выдавать ошибку.

Копируем ссылку, вставляем в браузер, выбираем сервер, жмём Authorize.
## Как создать новую команду для бота
В папке cogs создайте новый файл с названием новой группы команд, скопируйте код из файла example.py. Команд в одном блоке может быть несколько, не забывайте выделять их декораторами @commands.command(). Название класса лучше делать индентичным с названием файла, название команд может то, какое вы хотите.

Также не забывайте при создании нового файла с Cog добавлять его путь в data/settings.py -> cogs, иначе он не подгрузится в бота

Если вам интересно, какие есть методы у классов в discord.py, на сайте https://discordpy.readthedocs.io/en/stable/api.html можно всё найти.

## Запуск бота
Нужно открыть файл bin/run.py и запустить его. Если никаких ошибок нет, и бот появился в сети, всё должно работать.
